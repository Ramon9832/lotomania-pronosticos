<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Lotomania Experto v6</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: sans-serif; background: #f0f2f5; padding: 15px; text-align: center; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); max-width: 500px; margin: auto; }
        .config { text-align: left; background: #f9f9f9; padding: 15px; border-radius: 10px; margin-bottom: 15px; border: 1px solid #ddd; }
        label { font-weight: bold; display: block; margin-top: 10px; }
        input, select { width: 100%; padding: 10px; margin-top: 5px; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box; }
        button { background: #1b5e20; color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .game { background: #e8f5e9; border-left: 5px solid #1b5e20; padding: 10px; margin-top: 15px; text-align: left; font-family: monospace; font-size: 14px; }
        .mirror { background: #e1f5fe; border-left-color: #0277bd; }
        .fijo { color: red; font-weight: bold; text-decoration: underline; }
    </style>
</head>
<body>

<div class="card">
    <h2>ðŸŽ¯ Lotomania Experto</h2>
    
    <div class="config">
        <label>ðŸ“Œ NÃºmeros Fijos (ej: 05 30 99):</label>
        <input type="text" id="fijos" placeholder="Escribe tus fijos...">
        
        <label>ðŸš« Excluir Decena:</label>
        <select id="excluir">
            <option value="none">-- Ninguna --</option>
            <option value="3" selected>Decena 30-39</option>
            <option value="1">Decena 10-19</option>
            <option value="9">Decena 90-99</option>
        </select>
    </div>

    <button onclick="generarLotomania()">ðŸš€ GENERAR JUGADAS</button>
    <div id="resultado"></div>
</div>

<script>
    function generarLotomania() {
        const area = document.getElementById("resultado");
        const excluir = document.getElementById("excluir").value;
        const fijosTxt = document.getElementById("fijos").value.trim();
        
        // Procesar fijos
        let misFijos = fijosTxt ? fijosTxt.split(/\s+/).map(n => n.padStart(2, '0')) : [];
        misFijos = [...new Set(misFijos)].filter(n => n.length === 2);

        let html = "";
        
        for(let i=1; i<=5; i++) {
            // Crear 100 nÃºmeros y filtrar
            let bolsa = [];
            for(let n=0; n<100; n++) {
                let s = n.toString().padStart(2, '0');
                let dec = Math.floor(n/10).toString();
                if(dec !== excluir && !misFijos.includes(s)) {
                    bolsa.push(s);
                }
            }
            
            // Mezclar y tomar los que faltan para llegar a 50
            let azar = bolsa.sort(() => 0.5 - Math.random()).slice(0, 50 - misFijos.length);
            let final = [...misFijos, ...azar].sort((a,b) => a-b);
            
            // Crear Espejo
            let todos = [];
            for(let k=0; k<100; k++) todos.push(k.toString().padStart(2, '0'));
            let espejo = todos.filter(x => !final.includes(x)).sort((a,b) => a-b);
            
            html += '<div class="game"><strong>JUEGO ' + i + ':</strong><br>' + 
                    final.map(n => misFijos.includes(n) ? '<span class="fijo">'+n+'</span>' : n).join(" ") + 
                    '</div>' +
                    '<div class="game mirror"><strong>ðŸ”„ ESPEJO:</strong><br>' + 
                    espejo.join(" ") + '</div>';
        }
        
        area.innerHTML = html;
    }
</script>

</body>
</html>
