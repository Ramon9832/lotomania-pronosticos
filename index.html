<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>LotomanÃ­a â€“ Sistema Profesional MÃ¡ximo</title>
<style>
body{font-family:Arial;background:#f4f6f8;margin:0;padding:20px}
h1{margin:0 0 10px}
.card{background:#fff;border-radius:8px;padding:15px;margin-bottom:15px;box-shadow:0 2px 6px rgba(0,0,0,.1)}
button{padding:10px 15px;margin:5px;border:none;border-radius:5px;background:#1976d2;color:#fff;font-weight:bold;cursor:pointer}
button:hover{background:#0d47a1}
textarea{width:100%;height:100px}
.output{font-family:monospace;font-size:14px;line-height:1.6}
.small{font-size:12px;color:#555}
</style>
</head>

<body>

<h1>ğŸ¯ LotomanÃ­a â€“ Sistema Profesional MÃ¡ximo</h1>
<div class="small">HistÃ³rico permanente + pronÃ³stico nivel mÃ¡ximo</div>

<div class="card">
<h3>1ï¸âƒ£ Ingresar sorteos histÃ³ricos</h3>
<textarea id="inputSorteos" placeholder="Ejemplo:
00 02 09 13 15 16 24 33 38 39 43 57 60 65 67 69 77 85 88 92"></textarea>
<button onclick="guardarSorteos()">Guardar en histÃ³rico</button>
<button onclick="exportarHistorico()">Exportar histÃ³rico</button>
<input type="file" onchange="importarHistorico(event)">
</div>

<div class="card">
<h3>2ï¸âƒ£ Generar jugadas</h3>
<button onclick="generar()">Generar jugadas</button>
</div>

<div class="card">
<h3>ğŸ”’ NÃºcleo Profesional</h3>
<div id="nucleo" class="output"></div>
</div>

<div class="card">
<h3>ğŸ…° Juego A (Tendencia)</h3>
<div id="juegoA" class="output"></div>
</div>

<div class="card">
<h3>ğŸ…± Juego B (Retorno)</h3>
<div id="juegoB" class="output"></div>
</div>

<div class="card">
<h3>ğŸ…² Juego C (Equilibrado)</h3>
<div id="juegoC" class="output"></div>
</div>

<script>
const KEY="lotomania_historico";

function getHist(){
 return JSON.parse(localStorage.getItem(KEY)||"[]");
}
function setHist(h){
 localStorage.setItem(KEY,JSON.stringify(h));
}

function guardarSorteos(){
 let txt=document.getElementById("inputSorteos").value.trim();
 if(!txt) return alert("No hay datos");
 let h=getHist();
 txt.split(/\n+/).forEach(l=>{
  let nums=l.match(/\d{2}/g);
  if(nums && nums.length===20) h.push(nums.map(n=>parseInt(n)));
 });
 setHist(h);
 alert("HistÃ³rico guardado: "+h.length+" sorteos");
 document.getElementById("inputSorteos").value="";
}

function exportarHistorico(){
 let h=getHist();
 let txt=h.map(s=>s.map(n=>String(n).padStart(2,"0")).join(" ")).join("\n");
 let a=document.createElement("a");
 a.href=URL.createObjectURL(new Blob([txt],{type:"text/plain"}));
 a.download="historico_lotomania.txt";
 a.click();
}

function importarHistorico(e){
 let f=e.target.files[0];
 if(!f) return;
 let r=new FileReader();
 r.onload=()=>{document.getElementById("inputSorteos").value=r.result;}
 r.readAsText(f);
}

function generar(){
 let h=getHist();
 if(h.length===0) return alert("HistÃ³rico vacÃ­o");

 let freq=Array(100).fill(0);
 h.forEach(s=>s.forEach(n=>freq[n]++));

 let orden=[...Array(100).keys()].sort((a,b)=>freq[b]-freq[a]);

 let nucleo=orden.slice(0,30);
 let tendencia=orden.slice(0,60);
 let retorno=orden.slice(40,100);
 let mix=[...new Set([...nucleo,...retorno])];

 mostrar("nucleo",nucleo.slice(0,50));
 mostrar("juegoA",tendencia.slice(0,50));
 mostrar("juegoB",retorno.slice(0,50));
 mostrar("juegoC",mix.slice(0,50));
}

function mostrar(id,arr){
 document.getElementById(id).innerText=
 arr.map(n=>String(n).padStart(2,"0")).join(" â€“ ");
}
</script>

</body>
</html>
