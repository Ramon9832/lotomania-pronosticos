<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Lotomania Brasil â€“ PronÃ³sticos</title>

<style>
body{
  font-family:Arial, sans-serif;
  background:#f4f6f8;
  padding:20px;
}
h1,h2,h3{
  text-align:center;
}
.section{
  background:#fff;
  padding:15px;
  margin-top:20px;
  border-radius:8px;
}
button{
  padding:10px 20px;
  font-size:16px;
  margin:10px auto;
  display:block;
  cursor:pointer;
}
.numeros{
  font-size:18px;
  text-align:center;
  line-height:1.6;
  word-wrap:break-word;
}
.jugada{
  margin-top:10px;
  padding:8px;
  background:#eef2f5;
  border-radius:6px;
}
small{
  color:#555;
}
</style>
</head>

<body>

<h1>ğŸ¯ Lotomania Brasil â€“ Sistema de PronÃ³sticos</h1>

<div class="section">
<h2>â„¹ï¸ InformaciÃ³n Lotomania</h2>
<ul>
  <li>Apuesta con <b>50 nÃºmeros</b> del <b>00 al 99</b></li>
  <li>Premios principales: 20, 19, 18, 17, 16 y 0 aciertos</li>
  <li>Sorteos realizados por <b>Caixa EconÃ´mica Federal</b></li>
  <li>Juego de probabilidad (anÃ¡lisis estadÃ­stico â‰  garantÃ­a)</li>
</ul>
</div>

<div class="section">
<h2>ğŸ“Š 50 NÃºmeros Sugeridos</h2>
<div id="top50" class="numeros">Cargando datos...</div>
<button onclick="generarTodo()">ğŸ”„ Generar nuevos nÃºmeros</button>
</div>

<div class="section">
<h2>ğŸŸï¸ 20 Jugadas AutomÃ¡ticas</h2>
<div id="jugadas"></div>
</div>

<div class="section">
<h3>ğŸ“Œ Nota</h3>
<small>
Los pronÃ³sticos se basan en frecuencia histÃ³rica de resultados cargados en Google Sheets.
Este sistema es solo informativo.
</small>
</div>

<script>
const sheetId = "1NOSXFL_Yzfqy6My8tZSh0Trb1saheQGzHNVpcpVXzoE";
const url = https://docs.google.com/spreadsheets/d/${sheetId}/pub?output=csv;

let frecuencia = {};

fetch(url)
.then(r=>r.text())
.then(csv=>{
  const filas = csv.split("\n").slice(1);

  filas.forEach(f=>{
    const cols = f.split(",");
    if(cols[2]){
      cols[2].trim().split(" ").forEach(n=>{
        if(n.length===2){
          frecuencia[n]=(frecuencia[n]||0)+1;
        }
      });
    }
  });

  generarTodo();
})
.catch(()=>{
  document.getElementById("top50").innerText =
    "âŒ Error al leer Google Sheets (verifica publicaciÃ³n)";
});

function generarTodo(){
  const ordenados = Object.entries(frecuencia)
    .sort((a,b)=>b[1]-a[1])
    .map(x=>x[0]);

  if(!ordenados.length){
    document.getElementById("top50").innerText =
      "âŒ No hay datos vÃ¡lidos";
    return;
  }

  // 50 nÃºmeros sugeridos
  let top50=[];
  while(top50.length<50){
    const n = ordenados[Math.floor(Math.random()*ordenados.length)];
    if(!top50.includes(n)) top50.push(n);
  }
  top50.sort();

  document.getElementById("top50").innerText = top50.join(" ");

  // 20 jugadas
  const jugadasDiv = document.getElementById("jugadas");
  jugadasDiv.innerHTML = "";

  for(let i=1;i<=20;i++){
    let jugada=[];
    while(jugada.length<50){
      const n = top50[Math.floor(Math.random()*top50.length)];
      if(!jugada.includes(n)) jugada.push(n);
    }
    jugada.sort();

    const div = document.createElement("div");
    div.className="jugada";
    div.innerHTML = <b>Jugada ${i}:</b><br>${jugada.join(" ")};
    jugadasDiv.appendChild(div);
  }
}
</script>

</body>
</html>
